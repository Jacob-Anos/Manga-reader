<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Manga / Manhwa Tracker ‚Äì PWA</title>
<meta name="theme-color" content="#151835" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="MangaTracker">
<link rel="manifest" href="manifest.webmanifest">
<!-- iOS ikony (nahraƒè vlastn√≠mi PNG soubory v ko≈ôenu) -->
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="icon" type="image/png" href="icon-192.png">
<style>
:root{ --bg:#0f1220; --card:#151835; --muted:#8ea3c2; --text:#e8eeff; --accent:#6ea8ff; --accent2:#8bffb1; --danger:#ff7a7a; --radius:16px; }
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
.wrap{max-width:980px;margin:0 auto;padding:16px 14px 120px}
header{position:sticky;top:0;background:linear-gradient(180deg,rgba(15,18,32,.98),rgba(15,18,32,.85),rgba(15,18,32,0));backdrop-filter:blur(6px);z-index:10;padding:10px 0 8px;margin-bottom:10px}
h1{font-size:22px;margin:0 0 6px;letter-spacing:.2px}
.muted{color:var(--muted);font-size:13px}
.row{display:flex;gap:8px;flex-wrap:wrap}
input,button,select{border:none;outline:none}
input,select{background:#0f1430;color:var(--text);padding:10px 12px;border-radius:12px;min-width:0}
input[type="number"]{width:92px}
input[type="url"], input[type="text"], .grow{flex:1 1 220px}
button{background:#1b2350;color:var(--text);padding:10px 14px;border-radius:12px;cursor:pointer}
button.primary{background:linear-gradient(180deg,#2a5fff,#2563eb)}
button.ghost{background:#0e1230}
button.success{background:#14532d}
button.warn{background:#5b1a1a}
button.small{padding:6px 10px;border-radius:9px;font-size:13px}
.card{background:var(--card);border-radius:var(--radius);padding:14px 12px;margin:10px 0;box-shadow:0 8px 24px rgba(0,0,0,.25)}
.grid{display:grid;grid-template-columns:1fr;gap:10px}
@media(min-width:720px){.grid{grid-template-columns:1fr 1fr}}
.item{display:flex;flex-direction:column;gap:10px}
.item-head{display:flex;align-items:center;gap:10px}
.title{font-weight:600;font-size:16px;line-height:1.2}
.badges{display:flex;gap:6px;flex-wrap:wrap}
.badge{font-size:12px;color:#cfe0ff;background:#0c1130;border:1px solid #24306b;padding:3px 8px;border-radius:999px}
.actions{display:flex;gap:6px;flex-wrap:wrap}
.note{font-size:12px;color:var(--muted)}
.sep{height:1px;background:#27305f;opacity:.6;margin:6px 0}
.toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.pill{background:#0c1130;border:1px solid #27306b;border-radius:999px;padding:6px 10px;font-size:13px;color:var(--muted)}
.link{color:var(--accent);text-decoration:none}
.footer{position:fixed;left:0;right:0;bottom:0;background:linear-gradient(0deg,rgba(21,24,53,.98),rgba(21,24,53,.85),rgba(21,24,53,0));backdrop-filter:blur(6px);padding:12px 14px}
.footer .row{align-items:center}
.kbd{font-family:ui-monospace,Menlo,monospace;font-size:12px;background:#0b0f27;border:1px solid #2b356e;border-bottom-width:2px;border-radius:6px;padding:2px 6px}
.sr{position:absolute;left:-9999px}
.install{display:none;gap:8px;align-items:center}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>üìö Manga / Manhwa Tracker <span class="muted">(PWA)</span></h1>
<div class="muted">Funguje offline (service worker), lze nainstalovat na plochu (manifest). Data jsou v <b>localStorage</b>.</div>
<div class="row install" id="installRow">
<button id="btnInstall" class="primary small">‚ûï Nainstalovat aplikaci</button>
<span class="muted">nebo v Safari: Sd√≠let ‚Üí <b>P≈ôidat na plochu</b></span>
</div>
</header>


<section class="card" aria-labelledby="addform">
<h2 id="addform" class="sr">P≈ôidat s√©rii</h2>
<div class="row">
<input id="title" class="grow" placeholder="N√°zev s√©rie (nap≈ô. Omniscient Reader)" />
<input id="template" class="grow" placeholder="URL ≈°ablona kapitoly (nap≈ô. https://site/manga/xyz/chapter/{n})" />
<input id="lastUrl" class="grow" placeholder="Posledn√≠ p≈ôeƒçten√° URL (pokud nem√°≈° ≈°ablonu)" />
</div>
<div class="row" style="margin-top:8px">
<input id="chapter" type="number" min="0" step="1" placeholder="Kapitola" />
<select id="status">
<option value="reading">ƒåtu</option>
<option value="paused">Pozastaveno</option>
<option value="finished">Doƒçteno</option>
</select>
<button class="primary" onclick="addSeries()">+ P≈ôidat</button>
<button class="ghost" onclick="exportData()">Export</button>
<input id="importFile" type="file" accept="application/json" style="display:none" onchange="importData(this)" />
<button class="ghost" onclick="document.getElementById('importFile').click()">Import</button>
</div>
<div class="note">Pou≈æij <span class="kbd">{n}</span> v URL ≈°ablonƒõ pro ƒç√≠slo kapitoly. Pokud ≈°ablonu nevypln√≠≈°, aplikace otev≈ôe posledn√≠ ulo≈æenou URL.</div>
</section>


<section class="card toolbar">
<input id="search" class="grow" placeholder="Hledat v n√°zvech‚Ä¶" oninput="render()" />
<select id="filter" onchange="render()">
<option value="all">V≈°e</option>
<option value="reading">ƒåtu</option>
<option value="paused">Pozastaveno</option>
<option value="finished">Doƒçteno</option>
</select>
</html>
